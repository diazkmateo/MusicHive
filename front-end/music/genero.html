<!DOCTYPE html>
<html>
    <head>
        <title>MusicHive</title>
    </head>

    <body>
        <h1>MusicHive</h1>

        <h2>Crear Género</h2>
        <form action="http://localhost:8000/genero/create" method="post" enctype="multipart/form-data">
            <label for="nombre_genero">Nombre del Género:</label><br>
            <input type="text" id="nombre_genero" name="nombre_genero" required><br><br>
            <input type="submit" value="Crear Género">
        </form>

        <h2>Obtener Género</h2>
        <form id="get-genero-form">
            <label for="genero_id">ID del Género:</label><br>
            <input type="number" id="genero_id" name="genero_id" required><br><br>
            <input type="submit" value="Obtener Género">
        </form>

        <h2>Modificar Género</h2>
        <form action="http://localhost:8000/genero/update" method="post" enctype="multipart/form-data">
            <label for="update_genero_id">ID del Género:</label><br>
            <input type="number" id="update_genero_id" name="genero_id" required><br><br>
            <label for="update_nombre_genero">Nuevo Nombre del Género:</label><br>
            <input type="text" id="update_nombre_genero" name="nombre_genero" required><br><br>
            <input type="submit" value="Modificar Género">
        </form>

        <h2>Borrar Género</h2>
        <form id="delete-genero-form">
            <label for="delete_genero_id">ID del Género:</label><br>
            <input type="number" id="delete_genero_id" name="genero_id" required><br><br>
            <input type="submit" value="Borrar Género">
        </form>

        <script>
            document.getElementById('get-genero-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const genero_id = document.getElementById('genero_id').value;
            window.location.href = `http://localhost:8000/genero/${genero_id}`;
            });

            document.getElementById('delete-genero-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const genero_id = document.getElementById('delete_genero_id').value;
            fetch(`http://localhost:8000/genero/delete/${genero_id}`, {
                method: 'POST'
            })
            .then(response => {
                if (response.ok) {
                alert('Género borrado exitosamente');
                } else {
                alert('Error al borrar el género');
                }
            })
            .catch(() => alert('Error al conectar con el servidor'));
            });
        </script>
    </body>
</html>